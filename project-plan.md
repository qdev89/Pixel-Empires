# Pixel Empires - Project Plan

## Project Overview

Pixel Empires is a retro pixel art strategy game with a build & raid loop. The game features resource generation, base building, unit training, and a combat system with unit type advantages.

## Development Phases

### Phase 1: Core Game Mechanics (Completed)
- Basic resource generation (Food, Ore)
- Simple building system (Town Hall, Farm, Mine, Warehouse, Barracks, Wall)
- Initial unit (Spearman)
- Abstract combat system against NPC camps
- Basic UI with pixel art aesthetics

### Phase 2: Enhanced Combat System (Completed)
- Added additional unit types (Archer, Cavalry)
- Implemented rock-paper-scissors unit type advantages:
  - Spearmen strong against Cavalry
  - Archers strong against Spearmen
  - Cavalry strong against Archers
- Enhanced NPC combat with unit-specific advantages
- Improved combat reporting with detailed battle information
- Updated UI to support new unit types

### Phase 3: Research and Building Functionality (Completed)
- Added Library building for researching technologies
- Implemented tech tree with dependencies and categories (Military, Economic, Defensive)
- Created technologies that improve resource production, unit stats, and defense
- Added research UI with tabs for different technology categories
- Implemented technology effects system that applies bonuses to gameplay

### Phase 4: Enhanced Combat System (Completed)
- Implemented unit selection for combat with detailed UI
- Added combat visualization with traveling, fighting, and returning phases
- Enhanced NPC camps with respawning and difficulty progression
- Improved combat reports with detailed statistics and visualizations
- Added active combat tracking and status indicators

### Phase 5: Visual Enhancements and Animations (Completed)
- Improved pixel art assets with more detail
- Added construction animations for buildings
- Created resource production animations with particle effects
- Implemented resource gain animations
- Enhanced building visuals with state indicators (constructing, producing)
- Added pulsing effects for active buildings

### Phase 6: Advanced Game Features (In Progress)
- Implement unit animations (walking, attacking, idle)
- Enhance map visuals with varied terrain
- Add special events and challenges
- Implement achievements system
- Create tutorial and help system

### Phase 7: Server-Side Implementation
- Set up Node.js/Express backend
- Implement database for persistent game state
- Add user authentication and accounts
- Create API endpoints for game actions
- Implement real-time updates

### Phase 8: Multiplayer Features
- Player vs Player combat
- Alliances and diplomacy
- Chat system
- Leaderboards and rankings
- Trading system

## Technical Architecture

### Frontend
- HTML5, CSS3, and vanilla JavaScript
- Pixel art assets created in-house
- Responsive design for various screen sizes
- No external dependencies for core functionality

### Backend (Planned)
- Node.js/Express server
- MongoDB or PostgreSQL database
- RESTful API design
- JWT authentication
- WebSockets for real-time updates

## Game Design

### Resource System
- **Food**: Generated by Farms, consumed by units as upkeep
- **Ore**: Generated by Mines, used for buildings and units

### Building System
- **Town Hall**: Central building, unlocks other buildings
- **Farm**: Generates Food
- **Mine**: Generates Ore
- **Warehouse**: Increases resource storage capacity
- **Barracks**: Allows training units
- **Wall**: Provides defense for your empire
- **Library**: Enables research and technology advancement

### Unit System
- **Spearman**: Balanced unit, strong vs Cavalry, weak vs Archers
  - Attack: 5, Defense: 3, HP: 10, Carry Capacity: 10
  - Food Upkeep: 1

- **Archer**: Ranged unit, strong vs Spearmen, weak vs Cavalry
  - Attack: 7, Defense: 1, HP: 8, Carry Capacity: 8
  - Food Upkeep: 1

- **Cavalry**: Mobile unit, strong vs Archers, weak vs Spearmen
  - Attack: 6, Defense: 2, HP: 12, Carry Capacity: 15
  - Food Upkeep: 2

### Combat System
- Unit type advantages provide 50% attack bonus
- Unit type disadvantages impose 30% attack penalty
- NPC-specific advantages for certain unit types
- Detailed combat reports showing advantages and battle statistics
- Casualties affected by unit type advantages

### Research System
- Military technologies to improve unit attack, defense, and type advantages
- Economic technologies to enhance resource production and storage capacity
- Defensive technologies to strengthen walls and reduce casualties in combat
- Research progress system with Library building speed bonuses

## Milestones and Timeline

### Milestone 1: Core Game (Completed)
- Basic resource generation
- Building system
- Initial unit type
- Simple combat

### Milestone 2: Enhanced Combat (Completed)
- Multiple unit types
- Unit type advantages
- Improved combat reporting

### Milestone 3: Research System (Completed)
- Library building
- Technology tree with three categories
- Research effects on gameplay

### Milestone 4: Enhanced Combat (Completed)
- Unit selection interface
- Combat visualization
- NPC camp progression
- Detailed battle reports

### Milestone 5: Visual Improvements (Completed)
- Enhanced pixel art
- Building and resource animations
- Improved UI with visual feedback
- Animation system architecture

### Milestone 6: Advanced Features (In Progress)
- Unit animations
- Enhanced map visuals
- Special events
- Achievements

### Milestone 7: Server Integration (Planned)
- Backend setup
- Database integration
- User accounts

### Milestone 8: Multiplayer (Planned)
- PvP combat
- Alliances
- Social features

## Current Status

The project is currently in Phase 6, with the research system, enhanced combat system, and animation system completed. We have successfully implemented visual enhancements including building construction animations, resource production animations, and resource gain animations. The next steps involve implementing more advanced game features such as unit animations, enhanced map visuals, and special events.

## Future Considerations

- Mobile-friendly version
- Localization for multiple languages
- Seasonal events and special challenges
- Premium features or monetization options
- Community tools and modding support
- Advanced AI for more challenging NPC opponents
- Additional unit types and buildings
- Campaign mode with storyline
- Achievement system
